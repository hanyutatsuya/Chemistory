>保留が解除される問題ですが、実際の電文や操作はよくわかりませんが、>結果的には、解除を行っているのは、DD401のZdbKekkaUpdateKnsFlg関数>がコールされることで、保留が解除されるようです。>ただ、この関数を完全に除外してしまいますと、１回目に流した結果を>画面表示した際に、現状「X:報告可能」となっているところがすべて、>「H:保留」となってしまいます。>これは、DD401の中で、エラーのない状態に「H:保留」をデフォルト？で使用している>ためのようです。>そこで、デフォルトのHであるか、人が操作してHとしたのかの区別をつける必要があるかと思います。>KNSFLG='H'のとき、ZdbKekkaUpdateKnsFlg関数を呼ばない条件として、>①採用フラグ（TNYRKFLG）が1の場合>②データ入力担当者(DTNRTTS)に設定がある場合>③その他条件として使用できそうなKEKKAテーブルの項目があれば具体的におしえてください。>が考えられます。>とりあえず①で確認したところ、保留は残ることは確認いたしましたが、①でよかったのかの>確証が以下の疑問があるため、ありません。>・①②どちらの条件でも同じかと思っていますが、①が真のとき、②が偽や、その逆の場合はあるか不明>・採用フラグ（TNYRKFLG）が'1'から空白に戻ることはあるのか不明。→TNYRKFLGは手入力フラグとのことですので、クライアントプログラムから更新がかけられたレコードだと思われます。
　念のため、TNYRKFLGを更新している箇所をクライアントプログラムのソースからgrepして確認してみてください。

>ちなみに、r電文に保留とした分の項目コードの結果のみ返しますと、保留はプログラムを修正しなくても維持されます。
>今回、保留が解除される問題であるため、ひとまず保留が解除されるパターンとしての電文で確認しました。
>実際の保留→再流しの電文よろしくお願いします。

>また、保留、再流しまでに、画面上から、その項目コードの状態を再流しとするような画面操作はないでしょうか。
>KEKKAテーブルのKSKTKBN(検査工程区分)がすべてA（通常オーダー）の状態で再流しをしていますが、
>これが、画面操作からK:再検オーダ 、S:再測定オーダ に変更されてから、再流しする等の作業の流れはないでしょうか。
→想定している再流しはデータ確認のためですので、保留した後に操作はないと思います。


